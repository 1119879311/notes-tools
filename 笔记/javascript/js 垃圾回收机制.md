### js的垃圾回收机制
基本原理：由于javascript声明的变量需要的内存都是动态分配的,垃圾收集器会按照一定的时间周期和其他的一些策略来清除那些不在被使用的变量，释放内存
回收方法： 标记清除(主流)，引用计数
* 标记清除：就是当变量进入执行上下文环境，垃圾回收器会给这些变量做标志，比如进入环境标记，当执行栈离开改环境，环境变量中的变量就会被标志为离开环境，垃圾回收器会周期的扫描这些被标志不在被使用的变量进行清除，释放内存

* 引用计数：当声明一个变量，使用一个引用类型的值给该变量，改值会被计数1，如果该值又被另外一个变量引用，则改值计数+1，相反，如包含改值的变量又被重新赋值，则改值会被计数-1，当计数为0，说明改值已经没用，垃圾回收器会释放这些计数为0的值,弊端

### v8的垃圾回收机制
* v8 GC用到的策略算法：分代回收,空间复制，标记清除，标记整理，增量标志
* 新生代区： V8 将堆分为新生代区和老生代区,新生代区主要为活跃周期端的对象，在新生代区，分为from-to 两个部分，所有标记对象在from空间，通过将标记的活跃的对象移动在to空间并排序整理，再将from空间的不活跃的对象清除掉，最后重新将to空间的活跃对象移动在form空间，达到回收释放内存的作用

* 老生代区： 在新生代区处理的对象经过一定条件会晋升在老生代区空间中，主要使用的标记清除，标记整理，和增量标记,标记清除会对老生代进行扫描标记，清除标志非活动对象，释放内容，但是空间碎片存在
标记整理就是空间碎片进行整理，增量标志是将GC回收的操作分成多段执行，因为垃圾回收的操作其实回阻塞程序的执行

----